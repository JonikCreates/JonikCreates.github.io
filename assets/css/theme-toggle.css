/* Theme variables and overrides.
   Updated to improve light-mode contrast and remove unwanted text shadows.
   Dark theme values unchanged; light theme text color made darker and shadows disabled. */

:root {
  /* Light theme defaults â€” made darker for better contrast */
  --site-bg: #ffffff;
  --text-color: #0b1220;        /* darker, near-black for high contrast on white */
  --muted-text: #4a5568;       /* slightly darker muted color */
  --sidebar-bg: #f4f6fa;
  --card-bg: #ffffff;
  --link-color: #1a73e8;
  --accent: #2b8aef;
  --button-bg: #eef4ff;
  --border-color: rgba(0,0,0,0.08);
}

/* Dark theme overrides (unchanged) */
:root.dark {
  --site-bg: #0b0d11;
  --text-color: #e6eef8;
  --muted-text: #b7c3d6;
  --sidebar-bg: #07080a;
  --card-bg: #0f1115;
  --link-color: #8ab4ff;
  --accent: #4f9cff;
  --button-bg: #101214;
  --border-color: rgba(255,255,255,0.06);
}

/* Apply variables site-wide (with !important to override main.css where needed) */
html, body {
  background: var(--site-bg) !important;
  color: var(--text-color) !important;
  transition: background .25s ease, color .25s ease;
  -webkit-font-smoothing: antialiased; /* crisper text on mac/safari */
  -moz-osx-font-smoothing: grayscale;  /* crisper text on Firefox/mac */
  text-rendering: optimizeLegibility;
}

/* Remove any text-shadow that may be set in main.css */
html, body, #content, #sidebar, .box, .post, .post-excerpt, .inner,
p, span, li, a, h1, h2, h3, h4, h5, h6 {
  text-shadow: none !important;
  -webkit-text-stroke: 0 !important; /* guard against subtle strokes */
}

/* Sidebar background and color */
#sidebar {
  background: var(--sidebar-bg) !important;
  color: var(--text-color) !important;
  transition: background .25s ease, color .25s ease;
}

/* Content cards and posts */
#content, .box, .post, .post-excerpt, .inner, .image.featured {
  background: var(--card-bg) !important;
  color: var(--text-color) !important;
  transition: background .25s ease, color .25s ease;
}

/* Headings and text */
h1, h2, h3, h4, h5, h6 {
  color: var(--text-color) !important;
  font-weight: 600; /* make headings more solid in light mode */
}

/* Muted text like descriptions */
.text-style1, .muted, .byline {
  color: var(--muted-text) !important;
  font-weight: 400;
}

/* Links and buttons */
a, a:visited {
  color: var(--link-color) !important;
  text-decoration-skip-ink: auto;
  text-shadow: none !important;
}

.button {
  background-color: var(--button-bg) !important;
  color: var(--text-color) !important;
  border: 1px solid var(--border-color) !important;
}

/* Toggle button specifics */
#theme-toggle {
  margin: 0.6rem;
  font-size: 0.95rem;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.35rem 0.6rem;
  border-radius: 6px;
}

/* Focus outline for accessibility */
#theme-toggle:focus {
  outline: 3px solid rgba(66,133,244,0.18);
  outline-offset: 2px;
}

/* Keep images untouched in dark mode; remove any unexpected filters */
img {
  filter: none !important;
}
